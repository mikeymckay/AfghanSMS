(function(a){a.fn.columnFilters=function(b){var c={wildCard:"*",notCharacter:"!",caseSensitive:false,minSearchCharacters:1,excludeColumns:[],alternateRowClassNames:[],underline:false};b=a.extend(c,b);return this.each(function(){function f(l,p){var m=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];if(p){for(var o=0;o<m.length;o++){if(m[o]===p){m.splice(o,1)}}}var n=new RegExp("(\\"+m.join("|\\")+")","g");return l.replace(n,"\\$1")}var j=a(this),k=document.createElement("tr"),h=new RegExp(f(b.wildCard||""),"g"),g;function e(l,m){a("tbody:first tr",j).each(function(){a("td",this).each(function(n){if(n===l){a(this).addClass(m)}})})}function i(l){a("input._filterText",j).each(function(o){var q=(!b.wildCard)?f(this.value):f(this.value,b.wildCard).replace(h,".*"),n=true,m=b.alternateRowClassNames[0]||"",p=b.alternateRowClassNames[1]||"",s=true;if(b.notCharacter&&q.indexOf(b.notCharacter)===0){q=q.substr(b.notCharacter.length,q.length);if(q.length>0){n=false}}if(q.length<b.minSearchCharacters){q=""}q=q||".*";q=b.wildCard?"^"+q:q;var r=b.caseSensitive?new RegExp(q):new RegExp(q,"i");a("tbody:first tr",j).each(function(){a("td",this).each(function(u){if(u===o){var t=a(this).text().replace(/(\n)|(\r)/ig,"").replace(/\s\s/ig," ").replace(/^\s/ig,"");a(this).removeClass("_match");if(r.test(t)===n){a(this).addClass("_match")}}});if(a("td",this).length!==a("td._match",this).length){a(this).css("display","none")}else{a(this).css("display","");if(b.alternateRowClassNames&&b.alternateRowClassNames.length){a(this).removeClass(m).removeClass(p).addClass((s)?m:p);s=!s}}});if(b.underline){a(this).css("text-decoration","")}})}function d(){if(b.alternateRowClassNames&&b.alternateRowClassNames.length){var l=b.alternateRowClassNames[0]||"",m=b.alternateRowClassNames[1]||"",n=true;a("tbody:first tr",j).each(function(){if(a(this).css("display")!=="none"){a(this).removeClass(l).removeClass(m);a(this).addClass((n)?l:m);n=!n}})}}a("tbody:first tr:first td",j).each(function(l){var o=document.createElement("td"),n=document.createElement("input");a(n).attr("type","text").attr("id","_filterText"+l).addClass("_filterText");a(n).keyup(function(){clearTimeout(g);g=setTimeout(i,a("tbody:first tr",j).length*2);if(b.underline){a(n).css("text-decoration","underline")}});a(o).append(n);a(k).append(o);if(b.excludeColumns&&b.excludeColumns.length){for(var m=0;m<b.excludeColumns.length;m++){if(b.excludeColumns[m]===l){a(n).css("display","none")}}}e(l,"_filterCol"+l)});a(k).addClass("filterColumns");a("thead:first",j).append(k);d();b.notCharacter=f(b.notCharacter||"")})}})(jQuery);